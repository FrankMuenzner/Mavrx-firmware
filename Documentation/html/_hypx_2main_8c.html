<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>Mavrx Multirotor Firmware: Hypx/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mavrx Multirotor Firmware
   </div>
   <div id="projectbrief">Firmware for multirotors with Thalamus and Hypo</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_hypx_2main_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>It all starts here.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;thal.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a48a0cb720219a9570f6412428fb53a2d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a48a0cb720219a9570f6412428fb53a2d">ADDRESSLIST_SIZE</a>&#160;&#160;&#160;20</td></tr>
<tr class="separator:a48a0cb720219a9570f6412428fb53a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd6b0af6307e37c5ca3cc87d7c58d274"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#abd6b0af6307e37c5ca3cc87d7c58d274">STRIKE_COUNT_MAX</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:abd6b0af6307e37c5ca3cc87d7c58d274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf91fe5a6aba73f69478af919fe776ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#aaf91fe5a6aba73f69478af919fe776ee">CDCBUFSIZE</a>&#160;&#160;&#160;255</td></tr>
<tr class="separator:aaf91fe5a6aba73f69478af919fe776ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ca4988a7a903dcabca68533dbc7bc3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a04ca4988a7a903dcabca68533dbc7bc3">EEPROM_SETTING_ADDR</a>&#160;&#160;&#160;0x261</td></tr>
<tr class="separator:a04ca4988a7a903dcabca68533dbc7bc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7b3cd08d670ecda0db175a14911a27"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a2b7b3cd08d670ecda0db175a14911a27">EEPROM_XBEE_MODE</a>&#160;&#160;&#160;0xff</td></tr>
<tr class="separator:a2b7b3cd08d670ecda0db175a14911a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a772e989f50e2849a1272ced208bf10c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a772e989f50e2849a1272ced208bf10c7">EEPROM_BYPASS_MODE</a>&#160;&#160;&#160;0xfe</td></tr>
<tr class="separator:a772e989f50e2849a1272ced208bf10c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8bc3cbda1440319748495305ae22f6d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a8bc3cbda1440319748495305ae22f6d4">StrikeNetworkAddress</a> (unsigned short networkAddress)</td></tr>
<tr class="memdesc:a8bc3cbda1440319748495305ae22f6d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Strikes agains an address on the list.  <a href="#a8bc3cbda1440319748495305ae22f6d4">More...</a><br/></td></tr>
<tr class="separator:a8bc3cbda1440319748495305ae22f6d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54384ddac933e4bf89f6723d62e8735b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a54384ddac933e4bf89f6723d62e8735b">AddNetworkAddress</a> (unsigned short networkAddress, unsigned long long sourceAddress)</td></tr>
<tr class="memdesc:a54384ddac933e4bf89f6723d62e8735b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an address to the list.  <a href="#a54384ddac933e4bf89f6723d62e8735b">More...</a><br/></td></tr>
<tr class="separator:a54384ddac933e4bf89f6723d62e8735b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a607c757b82740597d6f0d7afe91f9a0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a607c757b82740597d6f0d7afe91f9a0f">SendToList</a> (unsigned char *buffer, unsigned int length)</td></tr>
<tr class="memdesc:a607c757b82740597d6f0d7afe91f9a0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends data to the list.  <a href="#a607c757b82740597d6f0d7afe91f9a0f">More...</a><br/></td></tr>
<tr class="separator:a607c757b82740597d6f0d7afe91f9a0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4fc01d736fe50cf5b977f755b675f11d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup function, sets stuff up...in function form... <br/></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe461d27b9c48d5921c00d521181f12f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#afe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:afe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idle loop, deals with button pushes and data transmission on timeout. <br/></td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a0f81512ab39ed95698794b9ee82e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13a0f81512ab39ed95698794b9ee82e9"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a13a0f81512ab39ed95698794b9ee82e9">SysTickInterrupt</a> ()</td></tr>
<tr class="memdesc:a13a0f81512ab39ed95698794b9ee82e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">System tick interrupt, deals with button push timing and LED flashing. <br/></td></tr>
<tr class="separator:a13a0f81512ab39ed95698794b9ee82e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3ad592a210c9d3f32c93a4831b65258"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad3ad592a210c9d3f32c93a4831b65258"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#ad3ad592a210c9d3f32c93a4831b65258">XBeeMessage</a> (unsigned char id, unsigned char *buffer, unsigned short length)</td></tr>
<tr class="memdesc:ad3ad592a210c9d3f32c93a4831b65258"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deals with XBee messages! Is triggered by UART ISR. <br/></td></tr>
<tr class="separator:ad3ad592a210c9d3f32c93a4831b65258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe52d4bc254154ef8f63d9274af505ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afe52d4bc254154ef8f63d9274af505ee"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#afe52d4bc254154ef8f63d9274af505ee">CDCReadByte</a> (unsigned char byte)</td></tr>
<tr class="memdesc:afe52d4bc254154ef8f63d9274af505ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">CDC data input ISR. <br/></td></tr>
<tr class="separator:afe52d4bc254154ef8f63d9274af505ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a49ffaa9a7c1f4881014150b7c73aa87b"><td class="memItemLeft" align="right" valign="top">volatile unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a49ffaa9a7c1f4881014150b7c73aa87b">PRGTimer</a> =0</td></tr>
<tr class="separator:a49ffaa9a7c1f4881014150b7c73aa87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac478deb373bdb0dd2e0ec3ef0d22e573"><td class="memItemLeft" align="right" valign="top">volatile unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#ac478deb373bdb0dd2e0ec3ef0d22e573">PRGLastState</a> =0</td></tr>
<tr class="separator:ac478deb373bdb0dd2e0ec3ef0d22e573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcf403b029d77e0d9dde8ee094e8ab56"><td class="memItemLeft" align="right" valign="top">volatile unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#afcf403b029d77e0d9dde8ee094e8ab56">PRGPushTime</a> =0</td></tr>
<tr class="separator:afcf403b029d77e0d9dde8ee094e8ab56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac37917d2f0c661491e8a6115ff82e1d2"><td class="memItemLeft" align="right" valign="top">volatile unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#ac37917d2f0c661491e8a6115ff82e1d2">PRGBlankTimer</a> =0</td></tr>
<tr class="separator:ac37917d2f0c661491e8a6115ff82e1d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0337e34250ddd0ae3c5991adddb737b1"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a0337e34250ddd0ae3c5991adddb737b1">PRGMode</a> =0</td></tr>
<tr class="separator:a0337e34250ddd0ae3c5991adddb737b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ca8ea07c114f5db0a3ff0d9b57dc6c"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a08ca8ea07c114f5db0a3ff0d9b57dc6c">sysMS</a> =0</td></tr>
<tr class="separator:a08ca8ea07c114f5db0a3ff0d9b57dc6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c089733d49a0cd6a902ddaad75a984d"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a5c089733d49a0cd6a902ddaad75a984d">flashVLED</a> =0</td></tr>
<tr class="separator:a5c089733d49a0cd6a902ddaad75a984d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa55efd0d3ef69d8da5443ea3b6ae1d"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#acfa55efd0d3ef69d8da5443ea3b6ae1d">networkAddressList</a> [<a class="el" href="_hypx_2main_8c.html#a48a0cb720219a9570f6412428fb53a2d">ADDRESSLIST_SIZE</a>]</td></tr>
<tr class="separator:acfa55efd0d3ef69d8da5443ea3b6ae1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53c61ef190ed30d7c930070f060277da"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a53c61ef190ed30d7c930070f060277da">sourceAddressList</a> [<a class="el" href="_hypx_2main_8c.html#a48a0cb720219a9570f6412428fb53a2d">ADDRESSLIST_SIZE</a>]</td></tr>
<tr class="separator:a53c61ef190ed30d7c930070f060277da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2b5ca69633c70a9cd718c8b2631e1da"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#ac2b5ca69633c70a9cd718c8b2631e1da">strikeAddressList</a> [<a class="el" href="_hypx_2main_8c.html#a48a0cb720219a9570f6412428fb53a2d">ADDRESSLIST_SIZE</a>]</td></tr>
<tr class="separator:ac2b5ca69633c70a9cd718c8b2631e1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a133ec162b2d4f6a83bb540ead1486055"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a133ec162b2d4f6a83bb540ead1486055">addressListCount</a> =0</td></tr>
<tr class="separator:a133ec162b2d4f6a83bb540ead1486055"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d9f3be5652be3d85072262f23e4d22"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a77d9f3be5652be3d85072262f23e4d22">CDCBuf</a> [<a class="el" href="_hypx_2main_8c.html#aaf91fe5a6aba73f69478af919fe776ee">CDCBUFSIZE</a>]</td></tr>
<tr class="separator:a77d9f3be5652be3d85072262f23e4d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd45b2fad02a3e603a5456a82f707ac2"><td class="memItemLeft" align="right" valign="top">volatile unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#afd45b2fad02a3e603a5456a82f707ac2">CDCCount</a> =0</td></tr>
<tr class="separator:afd45b2fad02a3e603a5456a82f707ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62d23bcd36473a82b9e1d72bbd4bd69"><td class="memItemLeft" align="right" valign="top">volatile unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#ae62d23bcd36473a82b9e1d72bbd4bd69">CDCFlag</a> =0</td></tr>
<tr class="separator:ae62d23bcd36473a82b9e1d72bbd4bd69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371f1f3756473d0366f82bd7085542a4"><td class="memItemLeft" align="right" valign="top">volatile unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#a371f1f3756473d0366f82bd7085542a4">CDCTimeout</a></td></tr>
<tr class="separator:a371f1f3756473d0366f82bd7085542a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6434fd3f885cce31aeb28270c43e1d6"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_hypx_2main_8c.html#ad6434fd3f885cce31aeb28270c43e1d6">XBeeBypassMode</a> =0</td></tr>
<tr class="separator:ad6434fd3f885cce31aeb28270c43e1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>It all starts here. </p>
<p>Hypx main file, pretty much all user code is here. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a48a0cb720219a9570f6412428fb53a2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADDRESSLIST_SIZE&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Size of the address list </p>

</div>
</div>
<a class="anchor" id="aaf91fe5a6aba73f69478af919fe776ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CDCBUFSIZE&#160;&#160;&#160;255</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CDC buffer size </p>

</div>
</div>
<a class="anchor" id="a772e989f50e2849a1272ced208bf10c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_BYPASS_MODE&#160;&#160;&#160;0xfe</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EEPROM value for bypass mode </p>

</div>
</div>
<a class="anchor" id="a04ca4988a7a903dcabca68533dbc7bc3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_SETTING_ADDR&#160;&#160;&#160;0x261</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>location of the EEPROM setting (this is pretty much arbitrarily chosen since we only need to store one byte in the EEPROM </p>

</div>
</div>
<a class="anchor" id="a2b7b3cd08d670ecda0db175a14911a27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EEPROM_XBEE_MODE&#160;&#160;&#160;0xff</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>EEPROM value for normal XBee mode (EEPROM should be equal to this value on reset already </p>

</div>
</div>
<a class="anchor" id="abd6b0af6307e37c5ca3cc87d7c58d274"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STRIKE_COUNT_MAX&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of failed transmission before address is struck from the list </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a54384ddac933e4bf89f6723d62e8735b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AddNetworkAddress </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>networkAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long long&#160;</td>
          <td class="paramname"><em>sourceAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds an address to the list. </p>
<p>Searches through the list for the address. If the address is already in the list, update its network address, and zero the strike counter. If the address is not in the list, add it. </p>

</div>
</div>
<a class="anchor" id="a607c757b82740597d6f0d7afe91f9a0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SendToList </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends data to the list. </p>
<p>This function is here because it's much faster to unicast to several devices than it is to broadcast data. </p>

</div>
</div>
<a class="anchor" id="a8bc3cbda1440319748495305ae22f6d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StrikeNetworkAddress </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>networkAddress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Strikes agains an address on the list. </p>
<p>Increments the strike counter on the address in the list. If the strike counter reaches STRIKE_COUNT_MAX, then the address is removed from the list </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a133ec162b2d4f6a83bb540ead1486055"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int addressListCount =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>number of active addresses in list </p>

</div>
</div>
<a class="anchor" id="a77d9f3be5652be3d85072262f23e4d22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char CDCBuf[<a class="el" href="_hypx_2main_8c.html#aaf91fe5a6aba73f69478af919fe776ee">CDCBUFSIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CDC buffer </p>

</div>
</div>
<a class="anchor" id="afd45b2fad02a3e603a5456a82f707ac2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned int CDCCount =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CDC buffer byte count </p>

</div>
</div>
<a class="anchor" id="ae62d23bcd36473a82b9e1d72bbd4bd69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned char CDCFlag =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CDC buffer in use flag </p>

</div>
</div>
<a class="anchor" id="a371f1f3756473d0366f82bd7085542a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned int CDCTimeout</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>CDC transmit timeout </p>

</div>
</div>
<a class="anchor" id="a5c089733d49a0cd6a902ddaad75a984d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int flashVLED =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boolean to enable VLED flashing </p>

</div>
</div>
<a class="anchor" id="acfa55efd0d3ef69d8da5443ea3b6ae1d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short networkAddressList[<a class="el" href="_hypx_2main_8c.html#a48a0cb720219a9570f6412428fb53a2d">ADDRESSLIST_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stored network addresses </p>

</div>
</div>
<a class="anchor" id="ac37917d2f0c661491e8a6115ff82e1d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned int PRGBlankTimer =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blanking time for button pushes </p>

</div>
</div>
<a class="anchor" id="ac478deb373bdb0dd2e0ec3ef0d22e573"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned char PRGLastState =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Last state that the button was in </p>

</div>
</div>
<a class="anchor" id="a0337e34250ddd0ae3c5991adddb737b1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int PRGMode =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current mode invoked by PRG mode </p>

</div>
</div>
<a class="anchor" id="afcf403b029d77e0d9dde8ee094e8ab56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned int PRGPushTime =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Contains the time that a button was pushed for, populated after button is released </p>

</div>
</div>
<a class="anchor" id="a49ffaa9a7c1f4881014150b7c73aa87b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile unsigned int PRGTimer =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Timer for button pushes, continuously increments as the button is held </p>

</div>
</div>
<a class="anchor" id="a53c61ef190ed30d7c930070f060277da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long sourceAddressList[<a class="el" href="_hypx_2main_8c.html#a48a0cb720219a9570f6412428fb53a2d">ADDRESSLIST_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stored source addresses </p>

</div>
</div>
<a class="anchor" id="ac2b5ca69633c70a9cd718c8b2631e1da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short strikeAddressList[<a class="el" href="_hypx_2main_8c.html#a48a0cb720219a9570f6412428fb53a2d">ADDRESSLIST_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>stirke counts for stored addresses </p>

</div>
</div>
<a class="anchor" id="a08ca8ea07c114f5db0a3ff0d9b57dc6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int sysMS =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>System timer </p>

</div>
</div>
<a class="anchor" id="ad6434fd3f885cce31aeb28270c43e1d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char XBeeBypassMode =0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Boolean for bypass mode </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9b17808d695d717e5535a09ced2abfdc.html">Hypx</a></li><li class="navelem"><a class="el" href="_hypx_2main_8c.html">main.c</a></li>
    <li class="footer">Generated on Fri Sep 13 2013 17:44:16 for Mavrx Multirotor Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
