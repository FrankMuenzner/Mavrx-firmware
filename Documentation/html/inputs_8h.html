<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Mavrx Multirotor Firmware: Thalamus/inc/inputs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mavrx Multirotor Firmware
   </div>
   <div id="projectbrief">Firmware for multirotors with Thalamus and Hypo</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('inputs_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">inputs.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="inputs_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad58682c6df63362359be86392252fb18"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#ad58682c6df63362359be86392252fb18">GAV_LEN</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:ad58682c6df63362359be86392252fb18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad2e98d93241aa7c561fd652b6bd479"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#adad2e98d93241aa7c561fd652b6bd479">AAV_LEN</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:adad2e98d93241aa7c561fd652b6bd479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f5f48298242f4106f4847e7810d29c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a88f5f48298242f4106f4847e7810d29c">MAV_LEN</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:a88f5f48298242f4106f4847e7810d29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ab4bca928834f711ae3a5952c824247"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a6ab4bca928834f711ae3a5952c824247">ALTAV_LEN</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:a6ab4bca928834f711ae3a5952c824247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab015253acacaa8cf7c817a06cc31113b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#ab015253acacaa8cf7c817a06cc31113b">ALTDAV_LEN</a>&#160;&#160;&#160;60</td></tr>
<tr class="separator:ab015253acacaa8cf7c817a06cc31113b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bebe1eaf7a84b23c0aa1418d5f61ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a65bebe1eaf7a84b23c0aa1418d5f61ec">OFFSTICK</a>&#160;&#160;&#160;50</td></tr>
<tr class="separator:a65bebe1eaf7a84b23c0aa1418d5f61ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9c3083cbf2ae4c581d51af4f8f1427"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#aff9c3083cbf2ae4c581d51af4f8f1427">MIDSTICK</a>&#160;&#160;&#160;512</td></tr>
<tr class="separator:aff9c3083cbf2ae4c581d51af4f8f1427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4965945ac77771da22ff6a4f53e9d75"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#ab4965945ac77771da22ff6a4f53e9d75">MAXSTICK</a>&#160;&#160;&#160;850</td></tr>
<tr class="separator:ab4965945ac77771da22ff6a4f53e9d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f1d00ed8418477888503cbe5a8a6df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#ac8f1d00ed8418477888503cbe5a8a6df">MAXTHRESH</a>&#160;&#160;&#160;750</td></tr>
<tr class="separator:ac8f1d00ed8418477888503cbe5a8a6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae370b782d5d2e9535d5f99fe741cf2b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#ae370b782d5d2e9535d5f99fe741cf2b2">MINTHRESH</a>&#160;&#160;&#160;250</td></tr>
<tr class="separator:ae370b782d5d2e9535d5f99fe741cf2b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3935302654f0349bc61d4090915960e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a3935302654f0349bc61d4090915960e7">gps_status</a> (void)</td></tr>
<tr class="memdesc:a3935302654f0349bc61d4090915960e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filters GPS and barometer altitude.  <a href="#a3935302654f0349bc61d4090915960e7">More...</a><br/></td></tr>
<tr class="separator:a3935302654f0349bc61d4090915960e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6725290e9b01a22f7007bb2811bd1e49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a6725290e9b01a22f7007bb2811bd1e49">read_barometer</a> (void)</td></tr>
<tr class="memdesc:a6725290e9b01a22f7007bb2811bd1e49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and filters barometer.  <a href="#a6725290e9b01a22f7007bb2811bd1e49">More...</a><br/></td></tr>
<tr class="separator:a6725290e9b01a22f7007bb2811bd1e49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf836b0ea199cde8e1082eeb6e1dff8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#aabf836b0ea199cde8e1082eeb6e1dff8">read_ultrasound</a> (void)</td></tr>
<tr class="memdesc:aabf836b0ea199cde8e1082eeb6e1dff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and filters the ultrasound.  <a href="#aabf836b0ea199cde8e1082eeb6e1dff8">More...</a><br/></td></tr>
<tr class="separator:aabf836b0ea199cde8e1082eeb6e1dff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9c8a4354e4a05ed89dc4313e6ac4c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a5e9c8a4354e4a05ed89dc4313e6ac4c6">trig_batt_voltage</a> (void)</td></tr>
<tr class="memdesc:a5e9c8a4354e4a05ed89dc4313e6ac4c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Triggers ADC for the battery voltage.  <a href="#a5e9c8a4354e4a05ed89dc4313e6ac4c6">More...</a><br/></td></tr>
<tr class="separator:a5e9c8a4354e4a05ed89dc4313e6ac4c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a299508501b2f693e86c625f7f0d6cf07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a299508501b2f693e86c625f7f0d6cf07">read_batt_voltage</a> (void)</td></tr>
<tr class="memdesc:a299508501b2f693e86c625f7f0d6cf07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads ADC for the battery voltage.  <a href="#a299508501b2f693e86c625f7f0d6cf07">More...</a><br/></td></tr>
<tr class="separator:a299508501b2f693e86c625f7f0d6cf07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf86f7c6ce91aa7d1b2ecdcd969a8100"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#abf86f7c6ce91aa7d1b2ecdcd969a8100">read_gyr_sensors</a> (void)</td></tr>
<tr class="memdesc:abf86f7c6ce91aa7d1b2ecdcd969a8100"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and filters the gyroscopes.  <a href="#abf86f7c6ce91aa7d1b2ecdcd969a8100">More...</a><br/></td></tr>
<tr class="separator:abf86f7c6ce91aa7d1b2ecdcd969a8100"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52789b5b751a66d96efbd4affda216ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a52789b5b751a66d96efbd4affda216ba">read_acc_sensors</a> (void)</td></tr>
<tr class="memdesc:a52789b5b751a66d96efbd4affda216ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and filters the accelerometers.  <a href="#a52789b5b751a66d96efbd4affda216ba">More...</a><br/></td></tr>
<tr class="separator:a52789b5b751a66d96efbd4affda216ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4980606e2fc3dcfdf7a38bdb74ec0d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#ab4980606e2fc3dcfdf7a38bdb74ec0d4">read_mag_sensors</a> (void)</td></tr>
<tr class="memdesc:ab4980606e2fc3dcfdf7a38bdb74ec0d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads and filters the magnetometers.  <a href="#ab4980606e2fc3dcfdf7a38bdb74ec0d4">More...</a><br/></td></tr>
<tr class="separator:ab4980606e2fc3dcfdf7a38bdb74ec0d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e97ee9276ed405c66f9d3f39f83ff99"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a9e97ee9276ed405c66f9d3f39f83ff99">convert_ori</a> (volatile signed short *X, volatile signed short *Y, volatile signed short *Z, signed short *data)</td></tr>
<tr class="memdesc:a9e97ee9276ed405c66f9d3f39f83ff99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts sensor axes to body axes.  <a href="#a9e97ee9276ed405c66f9d3f39f83ff99">More...</a><br/></td></tr>
<tr class="separator:a9e97ee9276ed405c66f9d3f39f83ff99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b83a366a672f3dc32fbed71e5ebe077"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inputs_8h.html#a1b83a366a672f3dc32fbed71e5ebe077">read_rx_input</a> (void)</td></tr>
<tr class="memdesc:a1b83a366a672f3dc32fbed71e5ebe077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads RX data.  <a href="#a1b83a366a672f3dc32fbed71e5ebe077">More...</a><br/></td></tr>
<tr class="separator:a1b83a366a672f3dc32fbed71e5ebe077"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="adad2e98d93241aa7c561fd652b6bd479"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AAV_LEN&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6ab4bca928834f711ae3a5952c824247"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALTAV_LEN&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab015253acacaa8cf7c817a06cc31113b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ALTDAV_LEN&#160;&#160;&#160;60</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad58682c6df63362359be86392252fb18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GAV_LEN&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a88f5f48298242f4106f4847e7810d29c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAV_LEN&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab4965945ac77771da22ff6a4f53e9d75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXSTICK&#160;&#160;&#160;850</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac8f1d00ed8418477888503cbe5a8a6df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXTHRESH&#160;&#160;&#160;750</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aff9c3083cbf2ae4c581d51af4f8f1427"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIDSTICK&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ae370b782d5d2e9535d5f99fe741cf2b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINTHRESH&#160;&#160;&#160;250</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a65bebe1eaf7a84b23c0aa1418d5f61ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFFSTICK&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a9e97ee9276ed405c66f9d3f39f83ff99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void convert_ori </td>
          <td>(</td>
          <td class="paramtype">volatile signed short *&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile signed short *&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">volatile signed short *&#160;</td>
          <td class="paramname"><em>Z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">signed short *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts sensor axes to body axes. </p>
<p>The flight controller are mounted in different configurations on different craft, so it is possible to use the orientation of the flight controller on ARM as a method for determining which airframe is being used. This function converts the axes of the sensors into the axes of the craft body. </p>

</div>
</div>
<a class="anchor" id="a3935302654f0349bc61d4090915960e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gps_status </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filters GPS and barometer altitude. </p>

</div>
</div>
<a class="anchor" id="a52789b5b751a66d96efbd4affda216ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_acc_sensors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads and filters the accelerometers. </p>
<p>Accelerometer data is normalised </p>

</div>
</div>
<a class="anchor" id="a6725290e9b01a22f7007bb2811bd1e49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_barometer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads and filters barometer. </p>

</div>
</div>
<a class="anchor" id="a299508501b2f693e86c625f7f0d6cf07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_batt_voltage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads ADC for the battery voltage. </p>
<p>Reads the battery voltage ADC. An integer/bitwise operation can be used to obtain the battery voltage in millivolts without loosing accuracy (assuming the resistors that are part of the potential divider is ideal). But this gets filtered anyway using a SPR filter on a float. </p>

</div>
</div>
<a class="anchor" id="abf86f7c6ce91aa7d1b2ecdcd969a8100"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_gyr_sensors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads and filters the gyroscopes. </p>

</div>
</div>
<a class="anchor" id="ab4980606e2fc3dcfdf7a38bdb74ec0d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_mag_sensors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads and filters the magnetometers. </p>
<p>Magnetometer data is corrected for soft and hard iron, and normalised. </p>

</div>
</div>
<a class="anchor" id="a1b83a366a672f3dc32fbed71e5ebe077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_rx_input </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads RX data. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000014">Todo:</a></b></dt><dd>Perform RC signal loss state setting </dd></dl>

</div>
</div>
<a class="anchor" id="aabf836b0ea199cde8e1082eeb6e1dff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void read_ultrasound </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads and filters the ultrasound. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000015">Todo:</a></b></dt><dd>Improve ultrasound confidence estimator </dd></dl>

</div>
</div>
<a class="anchor" id="a5e9c8a4354e4a05ed89dc4313e6ac4c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void trig_batt_voltage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Triggers ADC for the battery voltage. </p>
<p>The ADC that is used to read the battery voltage is set to manual trigger mode instead of interrupt-driven, and therefor needs to be commanded to trigger. This function is therefore run shortly before the battery voltage is read. The ADC doesn't require that many clock cycles to complete, so not a big delay is needed. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bfc07db8d2defe76e29ff476daeb588c.html">Thalamus</a></li><li class="navelem"><a class="el" href="dir_a326171ed4f9e4b858eb10bd97f33303.html">inc</a></li><li class="navelem"><a class="el" href="inputs_8h.html">inputs.h</a></li>
    <li class="footer">Generated on Mon Sep 9 2013 23:46:17 for Mavrx Multirotor Firmware by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
